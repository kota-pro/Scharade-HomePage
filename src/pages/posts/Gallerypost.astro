---

import Layout from "../../layouts/Mypost_Layout.astro";
import "../../styles/UA+reset.css";
import "../../styles/Gallerypost.css";
import IMGgrid from "../../components/IMGgrid.astro";

const backLinkMap = {
    activity: { href: "/Activity", label: "Activityへ戻る" },
    gallery: { href: "/Gallery", label: "Galleryへ戻る" },
} as const;
type BackLinkMap = typeof backLinkMap;
type FromParam = keyof BackLinkMap;
const isFromParam = (value: string | null): value is FromParam =>
    value === "Activity" || value === "Gallery";
const fromParam = Astro.url.searchParams.get("from");
const backLink = isFromParam(fromParam) ? backLinkMap[fromParam] : null;
const backLinkMapJSON = JSON.stringify(backLinkMap);
---

<Layout title="Gallery Post" from="Gallery">
    <div class="post-header">
        <h1 class="post-title">早稲田祭展</h1>
        <div class="post-meta">
            <p class="post-date">2025/11/2</p>
            <ul class="post-tags">
                <li class="post-tag">#Exhibition</li>
            </ul>
        </div>
    </div>
    <div class="gallerypost-intro">
        <p>これはギャラリーポストのサンプルコンテンツです。</p>
        <p>ここにギャラリーに関する情報や画像が表示されます。</p>
    </div>
    <div class="tab-panel-number panel-top">
        <a class="tab-posts-navigation" href="#"><img src="/icons/leftarrow.svg"></a>
        <input value=1 type="text"/>
        <p>/</p>
        <p>200</p>
        <a class="tab-posts-navigation" href="#"><img src="/icons/rightarrow.svg"></a>
    </div>
    <IMGgrid>
        <img src="/images/photo_library/img1.jpeg" alt="Sample Image 1" />
        <img src="/images/photo_library/img2.jpeg" alt="Sample Image 2" />
        <img src="/images/photo_library/img3.jpeg" alt="Sample Image 3" />
        <img src="/images/photo_library/img4.jpeg" alt="Sample Image 4" />
        <img src="/images/photo_library/img5.jpeg" alt="Sample Image 5" />
        <img src="/images/photo_library/img6.jpeg" alt="Sample Image 6" />
        <img src="/images/photo_library/img7.jpeg" alt="Sample Image 7" />
        <img src="/images/photo_library/img8.jpeg" alt="Sample Image 8" />
        <img src="/images/photo_library/img9.jpeg" alt="Sample Image 9" />
        <img src="/images/photo_library/img10.jpeg" alt="Sample Image 10" />
        <img src="/images/photo_library/img11.jpeg" alt="Sample Image 11" />
        <img src="/images/photo_library/img12.jpeg" alt="Sample Image 12" />
        <img src="/images/photo_library/img13.jpeg" alt="Sample Image 13" />
        <img src="/images/photo_library/img14.jpeg" alt="Sample Image 14" />
        <img src="/images/photo_library/img15.jpeg" alt="Sample Image 15" />
        <img src="/images/photo_library/img16.jpeg" alt="Sample Image 16" />
        <img src="/images/photo_library/img17.jpeg" alt="Sample Image 17" />
        <img src="/images/photo_library/img18.jpeg" alt="Sample Image 18" />
        <img src="/images/photo_library/img19.jpeg" alt="Sample Image 19" />
        <img src="/images/photo_library/img20.jpeg" alt="Sample Image 20" />
        <img src="/images/photo_library/img21.jpeg" alt="Sample Image 21" />
        <img src="/images/photo_library/img22.jpeg" alt="Sample Image 22" />
        <img src="/images/photo_library/img23.jpeg" alt="Sample Image 23" />
        <img src="/images/photo_library/img24.jpeg" alt="Sample Image 24" />
        <img src="/images/photo_library/img25.jpeg" alt="Sample Image 25" />
        <img src="/images/photo_library/img26.jpeg" alt="Sample Image 26" />
        <img src="/images/photo_library/img27.jpeg" alt="Sample Image 27" />
        <img src="/images/photo_library/img28.jpeg" alt="Sample Image 28" />
        <img src="/images/photo_library/img29.jpeg" alt="Sample Image 29" />
        <img src="/images/photo_library/img30.jpeg" alt="Sample Image 30" />
        <img src="/images/photo_library/img32.jpeg" alt="Sample Image 32" />
        <img src="/images/photo_library/img33.jpeg" alt="Sample Image 33" />
        <img src="/images/photo_library/img34.jpeg" alt="Sample Image 34" />
        <img src="/images/photo_library/img35.jpeg" alt="Sample Image 35" />
        <img src="/images/photo_library/img36.jpeg" alt="Sample Image 36" />
        <img src="/images/photo_library/img37.jpeg" alt="Sample Image 37" />
        <img src="/images/photo_library/img38.jpeg" alt="Sample Image 38" />
        <img src="/images/photo_library/img39.jpeg" alt="Sample Image 39" />
        <img src="/images/photo_library/img40.jpeg" alt="Sample Image 40" />
        <img src="/images/photo_library/img41.jpeg" alt="Sample Image 41" />
        <img src="/images/photo_library/img42.jpeg" alt="Sample Image 42" />
        <img src="/images/photo_library/img43.jpeg" alt="Sample Image 43" />
        <img src="/images/photo_library/img44.jpeg" alt="Sample Image 44" />
        <img src="/images/photo_library/img45.jpeg" alt="Sample Image 45" />
        <img src="/images/photo_library/img46.jpeg" alt="Sample Image 46" />
        <img src="/images/photo_library/img47.jpeg" alt="Sample Image 47" />
        <img src="/images/photo_library/img48.jpeg" alt="Sample Image 48" />
        <img src="/images/photo_library/img49.jpeg" alt="Sample Image 49" />
        <img src="/images/photo_library/img50.jpeg" alt="Sample Image 50" />
        <img src="/images/photo_library/img51.jpeg" alt="Sample Image 51" />
        <img src="/images/photo_library/img52.jpeg" alt="Sample Image 52" />
        <img src="/images/photo_library/img53.jpeg" alt="Sample Image 53" />
        <img src="/images/photo_library/img54.jpeg" alt="Sample Image 54" />
        <img src="/images/photo_library/img55.jpeg" alt="Sample Image 55" />
        <img src="/images/photo_library/img56.jpeg" alt="Sample Image 56" />
        <img src="/images/photo_library/img57.jpeg" alt="Sample Image 57" />
        <img src="/images/photo_library/img58.jpeg" alt="Sample Image 58" />
        <img src="/images/photo_library/img59.jpeg" alt="Sample Image 59" />
        <img src="/images/photo_library/img60.jpeg" alt="Sample Image 60" />
        <img src="/images/photo_library/img61.jpeg" alt="Sample Image 61" />
        <img src="/images/photo_library/img62.jpeg" alt="Sample Image 62" />
        <img src="/images/photo_library/img63.jpeg" alt="Sample Image 63" />
        <img src="/images/photo_library/img64.jpeg" alt="Sample Image 64" />
        <img src="/images/photo_library/img65.jpeg" alt="Sample Image 65" />
        <img src="/images/photo_library/img66.jpeg" alt="Sample Image 66" />
        <img src="/images/photo_library/img67.jpeg" alt="Sample Image 67" />
        <img src="/images/photo_library/img68.jpeg" alt="Sample Image 68" />
        <img src="/images/photo_library/img69.jpeg" alt="Sample Image 69" />
        <img src="/images/photo_library/img70.jpeg" alt="Sample Image 70" />
        <img src="/images/photo_library/img71.jpeg" alt="Sample Image 71" />
        <img src="/images/photo_library/img72.jpeg" alt="Sample Image 72" />
        <img src="/images/photo_library/img73.jpeg" alt="Sample Image 73" />
        <img src="/images/photo_library/img74.jpeg" alt="Sample Image 74" />
        <img src="/images/photo_library/img75.jpeg" alt="Sample Image 75" />
        <img src="/images/photo_library/img76.jpeg" alt="Sample Image 76" />
        <img src="/images/photo_library/img77.jpeg" alt="Sample Image 77" />
        <img src="/images/photo_library/img78.jpeg" alt="Sample Image 78" />
    </IMGgrid>
    <div class="tab-panel-number panel-bottom">
        <a class="tab-posts-double-navigation" href="#"><img src="/icons/doubleleftarrow.svg"></a>
        <a class="tab-posts-navigation" href="#"><img src="/icons/leftarrow.svg"></a>
        <div class="tab-posts-numbers">
            <a class="tab-posts-number" href="#">1</a>
            <a class="tab-posts-number" href="#">2</a>
            <a class="tab-posts-number" href="#">3</a>
            <p class="separate-slash">...</p>
            <a class="tab-posts-number" href="#">6</a>
            <a class="tab-posts-number" href="#">7</a>
            <a class="tab-posts-number" href="#">8</a>
            <p class="separate-slash">...</p>
            <a class="tab-posts-number" href="#">199</a>
            <a class="tab-posts-number" href="#">200</a>
        </div>
        <a class="tab-posts-navigation" href="#"><img src="/icons/rightarrow.svg"></a>
        <a class="tab-posts-double-navigation" href="#"><img src="/icons/doublerightarrow.svg"></a>
    </div>
    <div
    class="back-link"
    id="post-back-link"
    data-map={backLinkMapJSON}
    hidden={!backLink}
    >
        <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 20 20"><path fill="currentColor" d="M11.25 17.308L5.942 12l5.308-5.308l.708.708L7.364 12l4.594 4.6zm6.1 0L12.042 12l5.308-5.308l.708.708l-4.594 4.6l4.594 4.6z"/></svg>
        {backLink ? <a href={backLink.href}>{backLink.label}</a> : null}
    </div>
</Layout>

<script type="module">
    const container = document.getElementById("post-back-link");
    if (container) {
        try {
        const map = JSON.parse(container.dataset.map ?? "{}");
        const params = new URLSearchParams(window.location.search);
        const from = params.get("from");
        const link = from && map[from];
        if (link) {
            if (!container.querySelector("a")) {
            const anchor = document.createElement("a");
            anchor.href = link.href;
            anchor.textContent = link.label;
            container.appendChild(anchor);
            }
            container.hidden = false;
        } else {
            container.hidden = true;
        }
        } catch (error) {
            console.error("Failed to render back link", error);
        }
    }
</script>